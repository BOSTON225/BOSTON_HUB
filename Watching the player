

local MainFrame = Instance.new("ImageLabel")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.Size = UDim2.new(0, 300, 0, 380) -- كبرنا الطول شوية عشان الزراير الجديدة
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -190)
MainFrame.Image = MyImageID
MainFrame.Visible = false
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame)

-- [ 3. زرار الكرة المربع ] --
local MiniButton = Instance.new("ImageButton")
MiniButton.Parent = ScreenGui
MiniButton.Size = UDim2.new(0, 60, 0, 60)
MiniButton.Position = UDim2.new(0, 10, 0.5, 0)
MiniButton.Image = MyImageID
MiniButton.Visible = false
MiniButton.Draggable = true
Instance.new("UICorner", MiniButton).CornerRadius = UDim.new(0, 10)

-- [ 4. العنوان وأزرار التحكم ] --
local Title = Instance.new("TextLabel")
Title.Parent = MainFrame
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Title.BackgroundTransparency = 0.5
Title.Text = "  BOSTON HUB SPECTATE"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left

-- زرار الإغلاق النهائي (X)
local CloseX = Instance.new("TextButton")
CloseX.Parent = MainFrame
CloseX.Position = UDim2.new(0.85, 0, 0, 0)
CloseX.Size = UDim2.new(0, 40, 0, 40)
CloseX.Text = "X"; CloseX.TextColor3 = Color3.fromRGB(255,0,0); CloseX.BackgroundTransparency = 1
CloseX.MouseButton1Click:Connect(function() ScreenGui:Destroy() end)

-- زرار التصغير (-)
local Hide = Instance.new("TextButton")
Hide.Parent = MainFrame
Hide.Position = UDim2.new(0.72, 0, 0, 0)
Hide.Size = UDim2.new(0, 40, 0, 40)
Hide.Text = "-"; Hide.TextColor3 = Color3.fromRGB(255,255,255); Hide.BackgroundTransparency = 1
Hide.MouseButton1Click:Connect(function() MainFrame.Visible = false; MiniButton.Visible = true end)

MiniButton.MouseButton1Click:Connect(function() MainFrame.Visible = true; MiniButton.Visible = false end)

-- [ 5. قائمة اللاعبين ] --
local Scroll = Instance.new("ScrollingFrame")
Scroll.Parent = MainFrame
Scroll.Position = UDim2.new(0.05, 0, 0.12, 0)
Scroll.Size = UDim2.new(0.9, 0, 0.6, 0)
Scroll.BackgroundTransparency = 1
Scroll.ScrollBarThickness = 0
Instance.new("UIListLayout", Scroll).Padding = UDim.new(0, 5)

local function UpdateList()
    for _, c in pairs(Scroll:GetChildren()) do if c:IsA("TextButton") then c:Destroy() end end
    for _, v in pairs(Players:GetPlayers()) do
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(1, 0, 0, 30)
        btn.BackgroundColor3 = Color3.fromRGB(0,0,0); btn.BackgroundTransparency = 0.6
        btn.Text = v.Name; btn.TextColor3 = Color3.fromRGB(255,255,255); btn.Parent = Scroll
        Instance.new("UICorner", btn)
        btn.MouseButton1Click:Connect(function()
            if v.Character and v.Character:FindFirstChild("Humanoid") then
                Camera.CameraSubject = v.Character.Humanoid
            end
        end)
    end
end

-- [ 6. زر التفعيل وزر الإغلاق (داخل القائمة) ] --
local OnBtn = Instance.new("TextButton")
OnBtn.Name = "OnButton"
OnBtn.Parent = MainFrame
OnBtn.Position = UDim2.new(0.05, 0, 0.75, 0)
OnBtn.Size = UDim2.new(0.42, 0, 0, 40)
OnBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
OnBtn.Text = "تفعيل (ON)"
OnBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
OnBtn.Font = Enum.Font.GothamBold
Instance.new("UICorner", OnBtn)

local OffBtn = Instance.new("TextButton")
OffBtn.Name = "OffButton"
OffBtn.Parent = MainFrame
OffBtn.Position = UDim2.new(0.53, 0, 0, 40) -- سيتم تعديل الـ Y برمجياً
OffBtn.Position = UDim2.new(0.53, 0, 0.75, 0)
OffBtn.Size = UDim2.new(0.42, 0, 0, 40)
OffBtn.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
OffBtn.Text = "إغلاق (OFF)"
OffBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
OffBtn.Font = Enum.Font.GothamBold
Instance.new("UICorner", OffBtn)

-- برمجة زر التفعيل (بيعمل تحديث للقائمة)
OnBtn.MouseButton1Click:Connect(function()
    UpdateList()
    print("نظام المشاهدة مفعل")
end)

-- برمجة زر الإغلاق (بيرجع الكاميرا ليك)
OffBtn.MouseButton1Click:Connect(function()
    Camera.CameraSubject = LP.Character.Humanoid
    print("تم الرجوع للكاميرا الأصلية")
end)

-- [ 7. مكان وضع الكود الإضافي ] --
-- >>> حط كودك هنا <<< --

-- [ 8. تشغيل التحميل 30 ثانية ] --
spawn(function()
    for i = 1, 100 do
        Bar.Size = UDim2.new(i/100, 0, 1, 0)
        LText.Text = "جاري التحميل... " .. i .. "%"
        task.wait(0.3) 
    end
    LoadingFrame:Destroy()
    MainFrame.Visible = true
    UpdateList()
end)
